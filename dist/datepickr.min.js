(function(e){Date.prototype.getPickrDate=function(e){return e&&e.utc?this.getUTCDate():this.getDate()},Date.prototype.getPickrFullYear=function(e){return e&&e.utc?this.getUTCFullYear():this.getFullYear()},Date.prototype.getPickrMonth=function(e){return e&&e.utc?this.getUTCMonth():this.getMonth()},Date.prototype.getPickrDay=function(e){return e&&e.utc?this.getUTCDay():this.getDay()};var t=function(){function i(e){var t=(new Date(this.year,this.month)).getTime();switch(e.target.getAttribute("data-target")){case"month-prev":if(this.config.minDate&&t<=this.config.minDate)return;this.month--,this.month<0&&(this.year--,this.month=11),d.call(this);break;case"month-next":if(this.config.maxDate&&t>=this.config.maxDate)return;this.month++,this.month>11&&(this.year++,this.month=0),d.call(this);break;case"day":var n=(new Date).getTime(),r=(new Date(this.year,this.month,e.target.textContent)).getTime(),i=e.target.classList;this.config.halfDay?i.contains("morning")&&i.contains("active")?(i.remove("morning"),i.add("noon"),this.config.activeDays=this.config.activeDays.map(function(e){return e[0]===r&&(e[1]="0.1"),e})):i.contains("noon")&&i.contains("active")?(i.remove("noon"),this.config.activeDays=this.config.activeDays.filter(function(e){return e[0]===r&&(e[1]="1.1"),e})):i.contains("active")?(i.remove("active"),this.config.activeDays=this.config.activeDays.filter(function(e){return e[0]!==r})):(i.add("active","morning"),this.config.activeDays.push([r,"1.0"])):i.contains("active")?(i.remove("active","morning","noon"),this.config.activeDays=this.config.activeDays.filter(function(e){return e[0]!==r})):(i.add("active"),this.config.activeDays.push([r,1])),this.config.activeDays.sort(function(e,t){return e[0]-t[0]}),this.callback(this.config.activeDays)}}function s(e,t,r){e in n||(n[e]=document.createElement(e));var i=n[e].cloneNode(!1);if(t)for(var s in t)i.setAttribute(s,t[s]);return r&&(typeof r=="object"?i.appendChild(r):i.textContent=r),i}function o(e,t){return t[e]}function u(e){return new Date(e.getPickrFullYear(this.config),e.getPickrMonth(this.config),e.getPickrDate(this.config))}function a(e,t,n){return n===r.current.day(this.config)&&t===r.current.month(this.config)&&e===r.current.year(this.config)}function f(e,t,n){return(new Date(e,t,n)).getTime()<(new Date).getTime()}function l(e,t,n){return(new Date(e,t,n)).getTime()>(new Date).getTime()}function c(e,t,n){var r=(new Date(e,t,n)).getPickrDay(this.config);return r===0||r===6}function h(e,t,n){var r=(new Date(e,t,n)).getTime(),i;return this.config.omitDays.length&&this.config.omitDays.forEach(function(e){e===r&&(i=!0)}),i}function p(e){var t=document.createDocumentFragment();return e.forEach(function(e){t.appendChild(s("th",{},e))}),t}function d(){while(this.calendarBody.hasChildNodes())this.calendarBody.removeChild(this.calendarBody.lastChild);var e=(new Date(this.year,this.month,1)).getPickrDay(this.config),t=r.month.numDays(this.month,this.year);this.currentMonth.textContent=r.month.string(this.month,this.config.months)+" "+this.year,this.calendarBody.appendChild(g.call(this,e,t,this.month,this.year))}function v(e,t,n,i){return s("strong",{"class":"small"},r.month.string(t,i)+" "+n)}function m(e,t,n){var r=s("div",{"class":"months"}),i=s("a",{"class":"icon next button short quiet","data-target":"month-next",href:"#"}),o=s("a",{"class":"icon prev button short quiet","data-target":"month-prev",href:"#"});return r.appendChild(i),r.appendChild(o),r}function g(e,t,n,r){var i=document.createDocumentFragment(),o=s("tr"),p=0,d,v,m;for(m=1;m<=e;m++)o.appendChild(s("td")),p++;for(m=1;m<=t;m++){v=!1,p===7&&(i.appendChild(o),o=s("tr"),p=0),a.call(this,r,n,m)?(d="today",c.call(this,r,n,m)&&(this.config.greyWeekends&&(d+=" greyed"),this.config.omitWeekends&&(d+=" quiet",v=!0))):this.config.omitPast&&f(r,n,m)||this.config.omitFuture&&l(r,n,m)||this.config.omitWeekends&&c.call(this,r,n,m)||this.config.omitDays&&this.config.omitDays.length&&h.call(this,r,n,m)?(d="fill-light quiet",v=!0,this.config.greyWeekends&&c.call(this,r,n,m)&&(d+=" greyed")):(d="fill-light",this.config.greyWeekends&&c.call(this,r,n,m)&&(d+=" greyed"));var g=this;this.config.activeDays.length&&this.config.activeDays.forEach(function(e){u.call(g,new Date(e[0])).getTime()===(new Date(r,n,m)).getTime()&&(d+=e[1]===1||e[1]=="1.1"?" active":e[1]=="1.0"?" active morning":" active noon",d=d)}),o.appendChild(s("td",{},s("a",{"class":d,"data-target":v?!1:"day",href:"#"},m))),p++}for(m=1;m<=7-p;m++)o.appendChild(s("td"));return i.appendChild(o),i}function y(){var e=(new Date(this.config.startYear,this.config.startMonth,1)).getPickrDay(this.config),t=r.month.numDays(this.month,this.year),n=s("div",{"class":"date-pickr"});this.currentMonth=v(this.config,this.month,this.year,this.config.months);var o=m(this.config,this.month,this.year);o.appendChild(this.currentMonth);var u=s("table",{"class":"small"},s("thead",{},s("tr",{"class":"weekdays"},p(this.config.weekdays))));return this.calendarBody=s("tbody"),this.calendarBody.appendChild(g.call(this,e,t,this.month,this.year)),u.appendChild(this.calendarBody),n.appendChild(o),n.appendChild(u),this.element.appendChild(n),n.addEventListener("click",function(e){e.preventDefault(),i.call(this,e)}.bind(this)),n}var e=new Date,t=[31,28,31,30,31,30,31,31,30,31,30,31],n=[],r={current:{year:function(t){return e.getPickrFullYear(t)},month:function(t){return e.getPickrMonth(t)},day:function(t){return e.getPickrDate(t)}},month:{string:function(e,t){var n=e;return o(n,t)},numDays:function(e,n){return e===1&&!(n&3)&&(n%100||!(n%400))?29:t[e]}}};return function(e,t,n){var i={};this.element=e,this.callback=t,this.config={utc:!1,weekdays:["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],minDate:null,maxDate:null,halfDay:!1,omitPast:!1,omitFuture:!1,omitWeekends:!1,greyWeekends:!1,omitDays:[],activeDays:[]},this.config.startYear=r.current.year(this.config),this.config.startMonth=r.current.month(this.config);if(n)for(var s in n)this.config.hasOwnProperty(s)&&(this.config[s]=n[s]);var o=this;return this.config.activeDays.length&&(this.config.activeDays=this.config.activeDays.map(function(e){return[u.call(o,new Date(e[0])).getTime(),e[1]]})),this.config.omitDays.length&&(this.config.omitDays=this.config.omitDays.map(function(e){return u.call(o,new Date(e)).getTime()})),i.options=function(e){if(e)for(var t in e)this.config.hasOwnProperty(t)&&(this.config[t]=e[t])}.bind(this),this.year=this.config.startYear,this.month=this.config.startMonth,y.call(this),i}}();e.Datepickr=t,typeof module!="undefined"&&module.exports&&(module.exports=t)})(this);